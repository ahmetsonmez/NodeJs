<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head') %>
    <title><%= title %></title>
</head>
<body>
    <%- include('../partials/nav') %>
    <div class="container mt-3">
        <div class="row">
            <form method="post" enctype="multipart/form-data">
            <input type="hidden" name="picture" value="<%= blog.Image %>">
            <div class="row mb-3">
                <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label">Title</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control form-control" value="<%= blog.Title %>" id="title" name="title">
                </div>
            </div>
            <div class="row mb-3">
                <label for="colFormLabel" class="col-sm-2 col-form-label">Content</label>
                <div class="col-sm-10">
                <textarea name="content" id="editor" class="form-control" rows="10"><%= blog.Description %></textarea>
                </div>
            </div>
            <div class="row mb-3">
                <label for="colFormLabel" class="col-sm-2 col-form-label">Picture</label>
                <div class="col-sm-10">
                <img src="/source/images/<%= blog.Image %>" alt="" width="100">
                <input type="file" class="form-control form-control" id="picture" name="picture">
                </div>
            </div>
            <div class="row mb-3">
                <label for="colFormLabel" class="col-sm-2 col-form-label">Category</label>
                <div class="col-sm-10">
                <select name="categoryId" id="categoryId" class="form-control">
                    <option value="0">Select Category</option>
                    <% categories.forEach(category => { %>
                        <option value="<%= category.Id %>"><%= category.Name %></option>
                    <% }) %>
                </select>
                <script>
                    document.querySelector("#categoryId").value = "<%= blog.CategoryId %>"
                </script>
                </div>           
            </div>   
            <div class="row mb-3">
                <div class="col-sm-10 offset-sm-2">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="mainpage"
                     id="mainpage" <%= blog.MainPage ? "checked" : "" %> />
                    <label class="form-check-label" for="mainpage">
                      Main Page
                    </label>
                  </div>
                </div>
              </div> 
              <div class="row mb-3">
                <div class="col-sm-10 offset-sm-2">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="valid" 
                    id="valid"<%= blog.IsValid ? "checked" : "" %> >
                    <label class="form-check-label" for="valid">
                      Valid
                    </label>
                  </div>
                </div>
              </div> 
              <div class="row mb-3">
                <div class="col-sm-10 offset-sm-2">
                    <button type="submit" class="btn btn-primary">Save</button>
                </div> 
              </div> 
            </form>
        </div>      
    </div>
    <%- include('../partials/_ckeditor') %>
</body>
</html>